---- decl
index-space: pqrstuvw , Active    , a
index-space: ijkl     , Closed    , c
index-space: gh       , ClosedF   , f
index-space: abcd     , External  , e
index-space: mno      , Internal  , i

tensor:  C0[pq]
tensor:  H[ai]
tensor:  H[ap]
tensor:  H[ip]
tensor:  H[abij]
tensor:  H[abip]
tensor:  H[abpq]
tensor:  H[aijp]
tensor:  H[aipq]
tensor:  H[apqr]
tensor:  H[ijpq]
tensor:  H[irpq]

tensor:  O2g[ai]
tensor:  O2g[apqi]
tensor:  O2g[ap]
tensor:  O2g[arpq]
tensor:  O2g[pi]
tensor:  O2g[prqi]
tensor:  O2g[abij]
tensor:  O2g[abqi]
tensor:  O2g[abpq]
tensor:  O2g[apij]
tensor:  O2g[pqij]

// Intermediates
tensor: STIN0001[]          , !Create{type:disk}
tensor: STIN0001[rp]        , !Create{type:disk}
tensor: STIN0001[aq]        , !Create{type:disk}
tensor: STIN0001[pi]        , !Create{type:disk}
tensor: STIN0001[ab]        , !Create{type:disk}
tensor: STIN0001[apri]      , !Create{type:disk}
tensor: STIN0001[ij]        , !Create{type:disk}

---- code("Test")
alloc  O2g[ai]
alloc STIN0001[]
load C0[pq]
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq]
load  H[ai]
.O2g[ai] += H[ai] STIN0001[]
drop  H[ai]
drop STIN0001[]
store O2g[ai]

alloc  O2g[apqi]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[ai]
.O2g[apqi] -= STIN0001[pq] H[ai]
drop  H[ai]
drop STIN0001[rp]
store O2g[apqi]

alloc  O2g[ap]
alloc STIN0001[aq]
load H[ap], C0[qp]
.STIN0001[aq] += H[ap] C0[qp]
drop C0[qp], H[ap]
load  C0[pq]
.O2g[ap] -= C0[pq] STIN0001[aq]
drop  C0[pq]
drop STIN0001[aq]
store O2g[ap]

alloc  O2g[arpq]
alloc STIN0001[aq]
load H[ap], C0[qp]
.STIN0001[aq] += H[ap] C0[qp]
drop C0[qp], H[ap]
load  C0[pq]
.O2g[arpq] += C0[pq] STIN0001[ar]
drop  C0[pq]
drop STIN0001[aq]
store O2g[arpq]

alloc  O2g[pi]
alloc STIN0001[]
load C0[pq]
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq]
load  H[ip]
.O2g[pi] += H[ip] STIN0001[]
drop  H[ip]
drop STIN0001[]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[iq]
.O2g[pi] -= STIN0001[pq] H[iq]
drop  H[iq]
drop STIN0001[rp]
store O2g[pi]

alloc  O2g[prqi]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[ir]
.O2g[prqi] += STIN0001[pq] H[ir]
drop  H[ir]
drop STIN0001[rp]
alloc STIN0001[pi]
load C0[pq], H[iq]
.STIN0001[pi] += C0[pq] H[iq]
drop H[iq], C0[pq]
load  C0[qr]
.O2g[qrpi] += STIN0001[pi] C0[qr]
drop  C0[qr]
drop STIN0001[pi]
store O2g[qrpi]

alloc  O2g[abij]
alloc STIN0001[]
load C0[pq]
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq]
load  H[abij]
.O2g[abij] += H[abij] STIN0001[]
drop  H[abij]
drop STIN0001[]
store O2g[abij]

alloc  O2g[abqi]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[abip]
.O2g[abqi] -= H[abip] STIN0001[pq]
drop  H[abip]
drop STIN0001[rp]
store O2g[abqi]

alloc  O2g[abpq]
alloc STIN0001[ab]
load H[abpq], C0[pq]
.STIN0001[ab] += H[abpq] C0[pq]
drop C0[pq], H[abpq]
load  C0[pq]
.O2g[abpq] += C0[pq] STIN0001[ab]
drop  C0[pq]
drop STIN0001[ab]
store O2g[abpq]

alloc  O2g[apij]
alloc STIN0001[]
load C0[pq]
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq]
load  H[aijp]
.O2g[apij] += H[aijp] STIN0001[]
drop  H[aijp]
drop STIN0001[]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[aijq]
.O2g[apij] -= STIN0001[pq] H[aijq]
drop  H[aijq]
drop STIN0001[rp]
store O2g[apij]

load O2g[ai]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[aipq]
.O2g[ai] += STIN0001[pq] H[aipq]
drop  H[aipq]
drop STIN0001[rp]
store O2g[ai]

load O2g[apri]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[aipq]
.O2g[apri] -= H[aipq] STIN0001[qr]
drop  H[aipq]
drop STIN0001[rp]
alloc STIN0001[apri]
load C0[pq], H[airq]
.STIN0001[apri] -= C0[pq] H[airq]
drop H[airq], C0[pq]
load  C0[rq]
.O2g[arpi] += STIN0001[apqi] C0[rq]
drop  C0[rq]
drop STIN0001[apri]
store O2g[arpi]

load O2g[ap]
alloc STIN0001[ap]
load H[apqr], C0[qr]
.STIN0001[ap] += H[apqr] C0[qr]
drop C0[qr], H[apqr]
load  C0[pq]
.O2g[ap] -= C0[pq] STIN0001[aq]
drop  C0[pq]
drop STIN0001[ap]
store O2g[ap]

load O2g[arpq]
alloc STIN0001[ap]
load H[apqr], C0[qr]
.STIN0001[ap] += H[apqr] C0[qr]
drop C0[qr], H[apqr]
load  C0[pq]
.O2g[arpq] += C0[pq] STIN0001[ar]
drop  C0[pq]
drop STIN0001[ap]
store O2g[arpq]

alloc  O2g[pqij]
alloc STIN0001[]
load C0[pq]
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq]
load  H[ijpq]
.O2g[pqij] += H[ijpq] STIN0001[]
drop  H[ijpq]
drop STIN0001[]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[ijrq]
.O2g[prij] -= STIN0001[pq] H[ijrq]
drop  H[ijrq]
drop STIN0001[rp]
alloc STIN0001[ij]
load C0[pq], H[ijpq]
.STIN0001[ij] += C0[pq] H[ijpq]
drop H[ijpq], C0[pq]
load  C0[pq]
.O2g[pqij] += STIN0001[ij] C0[pq]
drop  C0[pq]
drop STIN0001[ij]
store O2g[pqij]

load O2g[ri]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[irpq]
.O2g[ri] -= STIN0001[pq] H[irpq]
drop  H[irpq]
drop STIN0001[rp]
alloc STIN0001[ri]
load C0[pq], H[irpq]
.STIN0001[ri] += C0[pq] H[irpq]
drop H[irpq], C0[pq]
load  C0[qp]
.O2g[qi] += STIN0001[pi] C0[qp]
drop  C0[qp]
drop STIN0001[ri]
store O2g[qi]

load O2g[pqsi]
alloc STIN0001[rp]
load C0[pq], C0[rq]
.STIN0001[rp] += C0[pq] C0[rq]
drop C0[rq], C0[pq]
load  H[ipqr]
.O2g[pqsi] -= H[ipqr] STIN0001[rs]
drop  H[ipqr]
drop STIN0001[rp]
store O2g[pqsi]

---- end
