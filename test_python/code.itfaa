---- decl
index-space: pqrstuvw , Active    , a
index-space: ijkl     , Closed    , c
index-space: gh       , ClosedF   , f
index-space: abcd     , External  , e
index-space: mno      , Internal  , i

tensor:  C0[pq]
tensor:  H[ai]
tensor:  H[ap]
tensor:  H[ip]
tensor:  H[abij]
tensor:  H[abip]
tensor:  H[abpq]
tensor:  H[aijp]
tensor:  H[aipq]
tensor:  H[apqr]
tensor:  H[ijpq]
tensor:  H[irpq]
tensor:  H[]

tensor:  O2g[ai]
tensor:  O2g[apqi]
tensor:  O2g[ap]
tensor:  O2g[arpq]
tensor:  O2g[pi]
tensor:  O2g[prqi]
tensor:  O2g[abij]
tensor:  O2g[abqi]
tensor:  O2g[abpq]
tensor:  O2g[apij]
tensor:  O2g[pqij]
tensor:  O2g[wpqr]

// Intermediates
tensor: STIN0001[]          , !Create{type:disk}
tensor: STIN0001[rp]        , !Create{type:disk}
tensor: STIN0001[aq]        , !Create{type:disk}
tensor: STIN0001[pi]        , !Create{type:disk}
tensor: STIN0001[ab]        , !Create{type:disk}
tensor: STIN0001[apri]      , !Create{type:disk}
tensor: STIN0001[ap]        , !Create{type:disk}
tensor: STIN0001[ij]        , !Create{type:disk}
tensor: STIN0001[ri]        , !Create{type:disk}
tensor: STIN0002[rp]        , !Create{type:disk}
tensor: STIN0003[rp]        , !Create{type:disk}
tensor: STIN0004[rp]        , !Create{type:disk}

---- code("Test")
alloc  O2g[ai]
alloc STIN0001[]
load C0[pq] 
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq] 
load  H[ai]
.O2g[ai] += H[ai] STIN0001[]
drop  H[ai]
drop STIN0001[]
store O2g[ai]

alloc  O2g[apqi]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[ai]
.O2g[apqi] -= STIN0001[pq] H[ai]
drop  H[ai]
drop STIN0001[rp]
store O2g[apqi]

alloc  O2g[ap]
alloc STIN0001[aq]
load H[ap] C0[qp]
.STIN0001[aq] += H[ap] C0[qp]
drop H[ap] C0[qp]
load  C0[pq]
.O2g[ap] -= C0[pq] STIN0001[ap]
drop  C0[pq]
drop STIN0001[aq]
store O2g[ap]

alloc  O2g[arpq]
alloc STIN0001[aq]
load H[ap] C0[qp]
.STIN0001[aq] += H[ap] C0[qp]
drop H[ap] C0[qp]
load  C0[pq]
.O2g[arpq] += C0[pq] STIN0001[ar]
drop  C0[pq]
drop STIN0001[aq]
store O2g[arpq]

alloc  O2g[pi]
alloc STIN0001[]
load C0[pq] 
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq] 
load  H[ip]
.O2g[pi] += H[ip] STIN0001[]
drop  H[ip]
drop STIN0001[]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[iq]
.O2g[pi] -= STIN0001[pq] H[iq]
drop  H[iq]
drop STIN0001[rp]
store O2g[pi]

alloc  O2g[prqi]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[ir]
.O2g[prqi] += STIN0001[pq] H[ir]
drop  H[ir]
drop STIN0001[rp]
alloc STIN0001[pi]
load C0[pq] H[ip]
.STIN0001[pi] += C0[pq] H[ip]
drop C0[pq] H[ip]
load  C0[qr]
.O2g[qrpi] += STIN0001[pi] C0[qr]
drop  C0[qr]
drop STIN0001[pi]
store O2g[qrpi]

alloc  O2g[abij]
alloc STIN0001[]
load C0[pq] 
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq] 
load  H[abij]
.O2g[abij] += H[abij] STIN0001[]
drop  H[abij]
drop STIN0001[]
store O2g[abij]

alloc  O2g[abqi]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[abip]
.O2g[abqi] -= H[abip] STIN0001[pq]
drop  H[abip]
drop STIN0001[rp]
store O2g[abqi]

alloc  O2g[abpq]
alloc STIN0001[ab]
load H[abpq] C0[pq]
.STIN0001[ab] += H[abpq] C0[pq]
drop H[abpq] C0[pq]
load  C0[pq]
.O2g[abpq] += C0[pq] STIN0001[ab]
drop  C0[pq]
drop STIN0001[ab]
store O2g[abpq]

alloc  O2g[apij]
alloc STIN0001[]
load C0[pq] 
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq] 
load  H[aijp]
.O2g[apij] += H[aijp] STIN0001[]
drop  H[aijp]
drop STIN0001[]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[aijq]
.O2g[apij] -= STIN0001[pq] H[aijq]
drop  H[aijq]
drop STIN0001[rp]
store O2g[apij]

load O2g[ai]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[aipq]
.O2g[ai] += STIN0001[pq] H[aipq]
drop  H[aipq]
drop STIN0001[rp]
store O2g[ai]

load O2g[apri]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[aipq]
.O2g[apri] -= H[aipq] STIN0001[qr]
drop  H[aipq]
drop STIN0001[rp]
alloc STIN0001[apri]
load C0[pq] H[airp]
.STIN0001[apri] -= C0[pq] H[airp]
drop C0[pq] H[airp]
load  C0[rp]
.O2g[arpi] += STIN0001[apqi] C0[rp]
drop  C0[rp]
drop STIN0001[apri]
store O2g[arpi]

load O2g[ap]
alloc STIN0001[ap]
load H[apqr] C0[qr]
.STIN0001[ap] += H[apqr] C0[qr]
drop H[apqr] C0[qr]
load  C0[pq]
.O2g[ap] -= C0[pq] STIN0001[ap]
drop  C0[pq]
drop STIN0001[ap]
store O2g[ap]

load O2g[arpq]
alloc STIN0001[ap]
load H[apqr] C0[qr]
.STIN0001[ap] += H[apqr] C0[qr]
drop H[apqr] C0[qr]
load  C0[pq]
.O2g[arpq] += C0[pq] STIN0001[ar]
drop  C0[pq]
drop STIN0001[ap]
store O2g[arpq]

alloc  O2g[pqij]
alloc STIN0001[]
load C0[pq] 
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq] 
load  H[ijpq]
.O2g[pqij] += H[ijpq] STIN0001[]
drop  H[ijpq]
drop STIN0001[]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[ijrq]
.O2g[prij] -= STIN0001[pq] H[ijrq]
drop  H[ijrq]
drop STIN0001[rp]
alloc STIN0001[ij]
load C0[pq] H[ijpq]
.STIN0001[ij] += C0[pq] H[ijpq]
drop C0[pq] H[ijpq]
load  C0[pq]
.O2g[pqij] += STIN0001[ij] C0[pq]
drop  C0[pq]
drop STIN0001[ij]
store O2g[pqij]

load O2g[ri]
alloc STIN0001[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[irpq]
.O2g[ri] -= STIN0001[pq] H[irpq]
drop  H[irpq]
drop STIN0001[rp]
alloc STIN0001[ri]
load C0[pq] H[irpq]
.STIN0001[ri] += C0[pq] H[irpq]
drop C0[pq] H[irpq]
load  C0[qp]
.O2g[qi] += STIN0001[pi] C0[qp]
drop  C0[qp]
drop STIN0001[ri]
store O2g[qi]

load O2g[pqsi]
alloc STIN0001[rp], STIN0002[rp], STIN0003[rp], STIN0004[rp]
load C0[pq] C0[rp]
.STIN0001[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load C0[rp]
.STIN0002[rp] += STIN0001[rp] C0[rp]
drop C0[rp]
load C0[rp]
.STIN0003[rp] += STIN0002[rp] C0[rp]
drop C0[rp]
load C0[pq] C0[rp]
.STIN0004[rp] += C0[pq] C0[rp]
drop C0[pq] C0[rp]
load  H[ipqr]
.O2g[pqsi] -= 2*H[ipqr] STIN0001[rs]
drop  H[ipqr]
drop STIN0004[rp], STIN0003[rp], STIN0002[rp], STIN0001[rp]
store O2g[pqsi]

load O2g[ai]
alloc STIN0001[]
load C0[pq] 
.STIN0001[] += C0[pq] C0[pq]
drop C0[pq] 
load  H[ai]
.O2g[ai] += H[ai] STIN0001[]
drop  H[ai]
drop STIN0001[]
load  H[ai]
load  H[]
.O2g[bi] += H[ai] H[]
drop  H[]
drop  H[ai]
store O2g[bi]

alloc  O2g[wpqr]
load  H[ai]
load  H[]
.O2g[wpqr] += H[ai] H[]
drop  H[]
drop  H[ai]
store O2g[wpqr]

load O2g[cj]
load  H[ai]
load  H[]
.O2g[cj] += H[ai] H[]
drop  H[]
drop  H[ai]
load  H[bi]
load  H[]
.O2g[cj] += H[bi] H[]
drop  H[]
drop  H[bi]
load  H[ci]
load  H[]
.O2g[cj] += H[ci] H[]
drop  H[]
drop  H[ci]
store O2g[cj]

---- end
